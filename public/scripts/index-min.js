let alertUser,names=document.querySelectorAll("section>p>b"),next=document.querySelectorAll("section>p.next"),nameArr=[],text=document.querySelectorAll("#podcast>section p:not(:nth-child(2))"),explainText=document.getElementById("explain"),index=-1;function addClass(e,t){let n=e.parentNode;0===t?n.classList.add("left"):1===t&&n.classList.add("right")}names.forEach(e=>{let t=e.innerText.charAt(0);if(nameArr.includes(t)){addClass(e,nameArr.indexOf(t))}else{nameArr.push(t),addClass(e,nameArr.indexOf(t))}}),next.forEach(e=>{let t=e.previousSibling,n=t.className;e.classList.add(n),t.classList.add("previous")});for(let e=0;e<text.length;e++)text[e].classList.add("none");function animate(e){let t=document.querySelector(".speaker1"),n=document.querySelector(".speaker2");e.classList.contains("left")?(t.classList.add("animate"),setTimeout(()=>t.classList.remove("animate"),2e3)):e.classList.contains("right")&&(n.classList.add("animate"),setTimeout(()=>n.classList.remove("animate"),2e3))}function timeInput(){alertUser=window.setTimeout(()=>showText(),15e3)}function showText(){explainText.classList.remove("noexplain"),console.log("now")}function clearText(){explainText.classList.add("noexplain")}document.body.onkeyup=(e=>{32!=e.keyCode&&13!=e.keyCode&&39!=e.keyCode&&40!=e.keyCode||(text[++index].classList.remove("none"),window.scrollTo(0,document.body.scrollHeight),window.clearTimeout(alertUser),clearText(),animate(text[index]))}),explainText.addEventListener("click",()=>{clearText()}),explainText.addEventListener("touchstart",()=>{clearText()}),timeInput();